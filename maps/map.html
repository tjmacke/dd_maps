<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"/>
<title>My Doordashes</title>
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="https://api.mapbox.com/mapbox.js/v2.2.2/mapbox.js"></script>
<link href="https://api.mapbox.com/mapbox.js/v2.2.2/mapbox.css" rel="stylesheet"/>
<style>
  body { margin:0; padding:0; }
  #map { position:absolute; top:0; bottom:0; width:100%; }
</style>
</head>
<body>
<div id="map"></div>
<script type="text/javascript">
// This code sets up  the map
L.mapbox.accessToken = "pk.eyJ1IjoidGptYWNrZSIsImEiOiJjaWZlZndqMmw2dXdycnlseHllc3hhaWxhIn0.BdoeGKCUMnGifNEsnzoOfg";
var map = L.mapbox.map("map", "mapbox.streets").setView([37.4377, -122.1603], 14);
var myLayer = L.mapbox.featureLayer().addTo(map);
// This function, called by the data-is-loaded callback passed to d3.json() draws the geoJson features
function makeMap(geoJson) {
  myLayer.setGeoJSON(geoJson);
}
// read the geoJson & draw the map
d3.json("test.json", function(data) {
    makeMap(data);
  });
</script>
</body>
</html>
